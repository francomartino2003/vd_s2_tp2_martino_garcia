<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astronautas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

    <div class="container">

      <h1><span class="usa">EEUU</span> vs <span class="rusia">RUSIA</span></h1>
      <h3>LA CONQUISTA ESPACIAL ENTRE 2010 Y 2019</h3>
      <P>
        La década de 2010 fue testigo de una feroz competencia entre Estados Unidos y Rusia en la conquista del espacio. 
        Ambos países han estado enviando astronautas con el objetivo de mantener y 
        expandir su presencia en el cosmos.
      </P>
        <ul>
          <li><h4>¿Por qué EEUU vs Rusia?</h4> <button class="btn-rojo" onclick="abrirVentana('dataviz_1')">Ver</button></li>
        
          <li><h4>Astronautas y Comandantes</h4>
          <button class="btn-azul" onclick="abrirVentana('dataviz_2')">Ver</button></li>
        
          <li><h4>Por fuera de la nave</h4>
          <button class="btn-rojo" onclick="abrirVentana('dataviz_3')">Ver</button></li>
        
          <li><h4>Mujeres en el espacio</h4>
          <button class="btn-azul" onclick="abrirVentana('dataviz_4')">Ver</button></li> 
        </ul>
      <br><br>

      <div id="mi-ventana-emergente" class="ventana-emergente">
        <div class="contenido-ventana">
          <div id="contenido-html"></div>
        </div>
      </div>

    </div>  

  </body>

<script>
  var ventanaEmergente = document.getElementById("mi-ventana-emergente");
  
  function abrirVentana(dataviz) {
    ventanaEmergente.classList.add("mostrar");

    var xhr = new XMLHttpRequest();
    var linkhtml = ''+dataviz+'/index.html';
    xhr.open('GET', linkhtml, true);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
        var contenidoHtml = document.getElementById('contenido-html');
        contenidoHtml.innerHTML = xhr.responseText;

        var script = document.createElement('script');
        script.src = ''+dataviz+'/script.js';
        script.onload = function() {
        };
        contenidoHtml.appendChild(script);
      }
    };
    xhr.send();
  }

  window.addEventListener("click", function(event) {
    var contenidoHtml = document.getElementById("contenido-html");
    if (event.target != ventanaEmergente || contenidoHtml.innerHTML == "") {
      return;
    }
    cerrarVentana();
  });
  
  function cerrarVentana() {
    var contenidoHtml = document.getElementById("contenido-html");
    contenidoHtml.innerHTML = "";
    var ventanaEmergente = document.getElementById("mi-ventana-emergente");
    ventanaEmergente.classList.remove("mostrar");
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.2/iframeResizer.contentWindow.js"></script>
    
</html>
